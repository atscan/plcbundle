# PLC Bundle

```
	‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ñ‚†Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†Ä‚†Ä‚°Ä‚†Ä‚¢Ä‚†Ä‚¢Ä‚°Ä‚£§‚°¢‚£§‚°§‚°Ä‚°Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚°Ñ‚°Ñ‚†ê‚°Ä‚†à‚£Ä‚†Ä‚°†‚°†‚†Ä‚£¢‚£Ü‚¢å‚°æ‚¢ô‚†∫‚¢Ω‚†æ‚°ã‚£ª‚°∑‚°´‚¢µ‚£≠‚¢¶‚£¥‚†¶‚†Ä‚¢†‚†Ä‚†Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚£§‚£Ω‚£•‚°à‚†ß‚£Ç‚¢ß‚¢æ‚†ï‚†û‚†°‚†ä‚†Å‚£ê‚†â‚†Ä‚†â‚¢ç‚†Ä‚†â‚†å‚°â‚†Ä‚†Ç‚†Å‚†±‚†â‚†Å‚¢ù‚†ª‚†é‚£¨‚¢å‚°å‚£¨‚£°‚£Ä‚£¢‚£Ñ‚°Ñ‚†Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚¢∏‚£ø‚£ø‚¢ø‚£æ‚£Ø‚£ë‚¢Ñ‚°Ç‚†Ä‚†Ñ‚†Ç‚†Ä‚†Ä‚¢Ä‚†Ä‚†Ä‚†ê‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ñ‚†ê‚†Ä‚†Ä‚†Ä‚†Ä‚£Ñ‚†≠‚†Ç‚†à‚†ú‚£©‚£ø‚¢ù‚†É‚†Ä‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£ª‚°ü‚†è‚†Ä‚†ö‚†à‚†ö‚°â‚°ù‚¢∂‚£±‚¢§‚£Ö‚†à‚†Ä‚†Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚††‚†Ä‚†Ä‚°Ç‚†ê‚£§‚¢ï‚°™‚¢º‚£à‚°π‚°á‚†è‚†è‚†ã‚†Ö‚¢É‚£™‚°è‚°á‚°ç‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†∫‚£ª‚°Ñ‚†Ä‚†Ä‚†Ä‚¢†‚†å‚†É‚†ê‚†â‚¢°‚†±‚†ß‚†ù‚°Ø‚£Æ‚¢∂‚£¥‚£§‚°Ü‚¢ê‚££‚¢Ö‚£Æ‚°ü‚†¶‚†ç‚†â‚†Ä‚†Å‚†ê‚†Ä‚†Ä‚†Ä‚†Ñ‚†ê‚†°‚£Ω‚°∏‚£é‚¢Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢à‚°ª‚£ß‚†Ä‚†Å‚†ê‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ä‚†Ä‚†ï‚¢Ä‚°â‚†à‚°´‚†Ω‚°ø‚°ü‚†ø‚†ü‚†Å‚†Ä‚†Ä‚†Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†¨‚†•‚£ã‚°Ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°Ä‚£æ‚°ç‚†ï‚°Ä‚†Ä‚†Ä‚†Ä‚†Ñ‚††‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†•‚£§‚¢å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Å‚†Ä‚†Ä‚†Ñ‚¢Ä‚†Ä‚¢ù‚¢û‚£´‚°Ü‚°Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ω‚°∂‚°Ñ‚†ê‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†Ä‚†Ñ‚†Ä‚†Ä‚†Ä‚†Ñ‚†Å‚†á‚£∑‚°Ü‚†Ä‚†Ä‚†Ä‚¢Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚°∏‚¢ù‚£Æ‚†ç‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†Ä‚¢æ‚£∑‚†Ä‚††‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Å‚°Å‚†Ä‚†Ä‚£æ‚°•‚†ñ‚†Ä‚†Ä‚†Ä‚†Ç‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Å‚†Ä‚°Ä‚†Å‚†Ä‚†Ä‚†ª‚¢≥‚£ª‚¢Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£û‚°ô‚†®‚£Ä‚††‚†Ñ‚†Ä‚†Ç‚†Ä‚†Ä‚†Ä‚†à‚¢Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†§‚¢ö‚¢¢‚£ü‚†Ä‚†Ä‚†Ä‚†Ä‚°ê‚†Ä‚†Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Å‚†à‚†å‚†ä‚£Ø‚£Æ‚°è‚†°‚†Ç‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£ª‚°ü‚°Ñ‚°°‚£Ñ‚†Ä‚††‚†Ä‚†Ä‚°Ö‚†Ä‚†ê‚†Ä‚°Ä‚†Ä‚°Ä‚†Ä‚†Ñ‚†à‚†É‚†≥‚†™‚†§‚†Ä‚†Ä‚†Ä‚†Ä‚°Ä‚†Ä‚†Ç‚†Ä‚†Ä‚†Ä‚†Å‚†à‚¢†‚£†‚†í‚†ª‚£ª‚°ß‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†™‚°é‚††‚¢å‚†ë‚°Ä‚†Ç‚†Ä‚†Ñ‚††‚†Ä‚††‚†Ä‚†Å‚°Ä‚††‚††‚°Ä‚£Ä‚†ú‚¢è‚°Ö‚†Ä‚†Ä‚°Ä‚†Å‚†Ä‚†Ä‚†Å‚†Å‚†ê‚†Ñ‚°Ä‚¢Ä‚†Ç‚†Ä‚†Ñ‚¢ë‚£ø‚£ø‚£ø‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†º‚£ª‚†ß‚££‚£Ä‚†ê‚†®‚†Å‚†ï‚¢à‚¢Ä‚¢Ä‚°Å‚†Ä‚†à‚††‚¢Ä‚†Ä‚†ê‚†ú‚£Ω‚°ó‚°§‚†Ä‚†Ç‚†Ä‚††‚†Ä‚¢Ç‚††‚†Ä‚†Å‚†Ñ‚†Ä‚†î‚†Ä‚†ë‚£®‚£ø‚¢Ø‚†ã‚°Ö‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°ö‚£∑‚£≠‚†é‚¢É‚°ó‚†Ñ‚°Ñ‚¢Ä‚†Å‚†Ä‚†Ö‚¢Ä‚¢Ö‚°Ä‚††‚†Ä‚¢†‚°Ä‚°©‚†∑‚¢á‚†Ä‚°Ä‚†Ñ‚°†‚†§‚†Ü‚£Ä‚°Ä‚†Ñ‚†â‚£†‚†É‚†¥‚†Ä‚†à‚¢Å‚£ø‚°õ‚°Ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚°¨‚°ø‚£ø‚°è‚°ª‚°Ø‚†å‚¢Å‚¢õ‚††‚†ì‚†ê‚†ê‚†ê‚†å‚†É‚†ã‚†Ç‚°¢‚¢∞‚£à‚¢è‚£∞‚†Ç‚†à‚†Ä‚††‚†í‚†°‚†å‚†´‚†≠‚†©‚†¢‚°¨‚†Ü‚†ø‚¢∑‚¢ø‚°Ω‚°ß‚†â‚†ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†∫‚£∑‚£∫‚£ó‚£ø‚°∂‚°é‚°Ö‚££‚¢é‚††‚°Ö‚£¢‚°ñ‚†¥‚†¨‚°à‚†Ç‚°®‚¢°‚†æ‚££‚£¢‚†Ä‚†Ä‚°π‚†Ñ‚°Ñ‚†Ñ‚°á‚£∞‚°ñ‚°ä‚†î‚¢π‚£Ñ‚£ø‚£≠‚£µ‚£ø‚¢∑‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†©‚£ø‚£ø‚£≤‚£ø‚£∑‚£ü‚£º‚†ü‚£¨‚¢â‚°†‚£™‚¢ú‚£Ç‚£Å‚†•‚†ì‚†ö‚°Å‚¢∂‚£∑‚£†‚†Ç‚°Ñ‚°¢‚£Ä‚°ê‚†ß‚¢Ü‚£í‚°≤‚°≥‚°´‚¢ü‚°É‚¢™‚°ß‚£ü‚°ü‚£Ø‚†ê‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∫‚†ü‚¢ø‚¢ü‚¢ª‚°ó‚°Æ‚°ø‚£≤‚¢∑‚£Ü‚£è‚£á‚°ß‚£Ñ‚¢ñ‚†æ‚°∑‚£ø‚£§‚¢≥‚¢∑‚££‚£¶‚°ú‚†ó‚£≠‚¢Ç‚†©‚£π‚¢ø‚°≤‚¢é‚°ß‚£ï‚£ñ‚£ì‚£Ω‚°ø‚°ñ‚°ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†â‚†Ç‚†Ç‚†è‚†ø‚¢ª‚£•‚°™‚¢Ω‚£≥‚£≥‚£•‚°∂‚£´‚£ç‚¢ê‚£•‚£ª‚£æ‚°ª‚£Ö‚¢≠‚°¥‚¢≠‚£ø‚†ï‚£ß‚°≠‚£û‚£ª‚££‚£ª‚¢ø‚†ü‚†õ‚†ô‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ñ‚†ã‚†´‚†Ø‚£ç‚¢ª‚£ø‚£ø‚£∑‚£ï‚£µ‚£π‚£Ω‚£ø‚£∑‚£á‚°è‚£ø‚°ø‚£ç‚°ù‚†µ‚†Ø‚†Å‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ê‚††‚†Å‚†ã‚¢£‚†ì‚°ç‚£´‚†π‚£ø‚£ø‚£∑‚°ø‚†Ø‚†∫‚†Å‚†Å‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ã‚¢Ä‚†ã‚¢à‚°ø‚†ø‚†Å‚†â‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
```

> ‚ö†Ô∏è **Preview Version - Do Not Use in Production!**

plcbundle archives AT Protocol's [DID PLC Directory](https://plc.directory/) operations into immutable, cryptographically-chained bundles of 10,000 operations. Each bundle is hashed (SHA-256), compressed (zstd), and linked to the previous bundle, creating a verifiable chain of DID operations.

* üìÑ [Technical Specification](./docs/specification.md)
* üìö [Library Documentation](./docs/library.md)
* üíª [CLI Guide](./docs/cli.md)
* üì∞ [Announcement Article](https://leaflet.pub/feb982b4-64cb-4549-9d25-d7e68cecb11a)

## What is plcbundle?

plcbundle is a **format specification** for archiving PLC directory operations:

- **Bundling**: Groups 10,000 operations into compressed, immutable files
- **Chaining**: Each bundle is cryptographically linked to the previous one
- **Verifiable**: SHA-256 hashes ensure data integrity throughout the chain
- **Efficient**: Zstandard compression with ~5x compression ratios

### Implementations

- **Go** (this repository) - Full-featured CLI tool, library, and HTTP server
- [TypeScript, Python, Ruby](https://tangled.org/@atscan.net/plcbundle-ref/) - Reference implementations

---

## This Implementation (Go)

This Go implementation provides:

- üìö **Library** - Embed bundle operations in your Go applications
- üíª **CLI Tool** - Command-line interface for all operations
- üåê **HTTP Server** - Host and serve bundles over HTTP
- üîÑ **Auto-sync** - Automatically fetch and bundle new operations
- üîå **WebSocket** - Stream operations in real-time
- üîç **Spam Detection** - Built-in and custom JavaScript detectors
- ‚ö° **Performance** - Parallel processing, efficient compression
- üê≥ **Docker** - Ready-to-deploy containers

## Installation

### Go Install

```bash
# CLI tool
go install tangled.org/atscan.net/plcbundle/cmd/plcbundle@latest

# Library
go get tangled.org/atscan.net/plcbundle
```

### Docker

[![Docker Hub](https://img.shields.io/docker/v/atscan/plcbundle?label=docker&logo=docker)](https://hub.docker.com/r/atscan/plcbundle)
[![Docker Image Size](https://img.shields.io/docker/image-size/atscan/plcbundle/latest)](https://hub.docker.com/r/atscan/plcbundle)
[![Docker Pulls](https://img.shields.io/docker/pulls/atscan/plcbundle)](https://hub.docker.com/r/atscan/plcbundle)

```bash
# Pull pre-built image
docker pull atscan/plcbundle:latest

# Run CLI
docker run --rm -v $(pwd)/data:/data atscan/plcbundle info

# Run as server
docker run -d -p 8080:8080 -v $(pwd)/data:/data atscan/plcbundle serve --host 0.0.0.0

# Or use docker compose
curl -O https://tangled.org/@atscan.net/plcbundle/raw/main/docker-compose.yaml
docker compose up -d
```

### From Source

```bash
git clone https://tangled.org/@atscan.net/plcbundle
cd plcbundle
make build
sudo make install
```

## Quick Start

### As a Library

```go
import plcbundle "tangled.org/atscan.net/plcbundle"

mgr, _ := plcbundle.New("./plc_data", "https://plc.directory")
defer mgr.Close()

bundle, _ := mgr.FetchNext(context.Background())
// Process bundle.Operations
```

[See full library documentation ‚Üí](./docs/library.md)

### As a CLI Tool

```bash
# Fetch bundles from plc.directory
plcbundle fetch

# Clone from remote
plcbundle clone https://plc.example.com

# Verify integrity
plcbundle verify
```

[See full CLI reference ‚Üí](./docs/cli.md)

### With Docker

```bash
# CLI usage
docker run --rm -v $(pwd)/data:/data plcbundle info

# Server mode
docker-compose up -d
curl http://localhost:8080/
```

## Use Cases

- **Archiving**: Create verifiable backups of PLC operations
- **Mirroring**: Host your own PLC directory mirror
- **Research**: Analyze historical DID operations
- **Compliance**: Maintain tamper-evident audit trails

## Security Model

Bundles are cryptographically chained but require external verification:
- ‚úÖ Verify against original PLC directory
- ‚úÖ Compare with multiple independent mirrors
- ‚úÖ Check published root and head hashes
- ‚úÖ Anyone can reproduce bundles from PLC directory

## Documentation

- [Library Guide](./docs/library.md) - Comprehensive API documentation
- [CLI Guide](./docs/cli.md) - Command-line tool usage
- [Specification](./docs/specification.md) - Technical format specification

## License

MIT

## Contributing

Contributions welcome! Please open an issue or PR.
